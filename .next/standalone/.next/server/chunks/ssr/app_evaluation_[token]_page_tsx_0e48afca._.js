module.exports=[75494,a=>{"use strict";a.s(["default",()=>af],75494);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(40695),f=a.i(3130),g=a.i(17171),h=a.i(46893),i=a.i(97020),j=a.i(30656),k=a.i(7554),l=a.i(70121),m=a.i(50104),n=a.i(25152),o=a.i(7827),p=a.i(77994),q=a.i(3688),r=a.i(30553),s=a.i(37738),t=["PageUp","PageDown"],u=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],v={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},w="Slider",[x,y,z]=(0,s.createCollection)(w),[A,B]=(0,m.createContextScope)(w,[z]),[C,D]=A(w),E=c.forwardRef((a,d)=>{let{name:e,min:f=0,max:g=100,step:h=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:m=0,defaultValue:o=[f],value:p,onValueChange:q=()=>{},onValueCommit:r=()=>{},inverted:s=!1,form:v,...w}=a,y=c.useRef(new Set),z=c.useRef(0),A="horizontal"===i,[B=[],D]=(0,n.useControllableState)({prop:p,defaultProp:o,onChange:a=>{let b=[...y.current];b[z.current]?.focus(),q(a)}}),E=c.useRef(B);function F(a,b,{commit:c}={commit:!1}){let d=(String(h).split(".")[1]||"").length,e=function(a,b){let c=Math.pow(10,b);return Math.round(a*c)/c}(Math.round((a-f)/h)*h+f,d),i=(0,j.clamp)(e,[f,g]);D((a=[])=>{let d=function(a=[],b,c){let d=[...a];return d[c]=b,d.sort((a,b)=>a-b)}(a,i,b);if(!function(a,b){if(b>0)return Math.min(...a.slice(0,-1).map((b,c)=>a[c+1]-b))>=b;return!0}(d,m*h))return a;{z.current=d.indexOf(i);let b=String(d)!==String(a);return b&&c&&r(d),b?d:a}})}return(0,b.jsx)(C,{scope:a.__scopeSlider,name:e,disabled:l,min:f,max:g,valueIndexToChangeRef:z,thumbs:y.current,values:B,orientation:i,form:v,children:(0,b.jsx)(x.Provider,{scope:a.__scopeSlider,children:(0,b.jsx)(x.Slot,{scope:a.__scopeSlider,children:(0,b.jsx)(A?H:I,{"aria-disabled":l,"data-disabled":l?"":void 0,...w,ref:d,onPointerDown:(0,k.composeEventHandlers)(w.onPointerDown,()=>{l||(E.current=B)}),min:f,max:g,inverted:s,onSlideStart:l?void 0:function(a){let b=function(a,b){if(1===a.length)return 0;let c=a.map(a=>Math.abs(a-b)),d=Math.min(...c);return c.indexOf(d)}(B,a);F(a,b)},onSlideMove:l?void 0:function(a){F(a,z.current)},onSlideEnd:l?void 0:function(){let a=E.current[z.current];B[z.current]!==a&&r(B)},onHomeKeyDown:()=>!l&&F(f,0,{commit:!0}),onEndKeyDown:()=>!l&&F(g,B.length-1,{commit:!0}),onStepKeyDown:({event:a,direction:b})=>{if(!l){let c=t.includes(a.key)||a.shiftKey&&u.includes(a.key),d=z.current;F(B[d]+h*(c?10:1)*b,d,{commit:!0})}}})})})})});E.displayName=w;var[F,G]=A(w,{startEdge:"left",endEdge:"right",size:"width",direction:1}),H=c.forwardRef((a,d)=>{let{min:e,max:f,dir:g,inverted:h,onSlideStart:i,onSlideMove:j,onSlideEnd:k,onStepKeyDown:m,...n}=a,[p,q]=c.useState(null),r=(0,l.useComposedRefs)(d,a=>q(a)),s=c.useRef(void 0),t=(0,o.useDirection)(g),u="ltr"===t,w=u&&!h||!u&&h;function x(a){let b=s.current||p.getBoundingClientRect(),c=T([0,b.width],w?[e,f]:[f,e]);return s.current=b,c(a-b.left)}return(0,b.jsx)(F,{scope:a.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:(0,b.jsx)(J,{dir:t,"data-orientation":"horizontal",...n,ref:r,style:{...n.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:a=>{let b=x(a.clientX);i?.(b)},onSlideMove:a=>{let b=x(a.clientX);j?.(b)},onSlideEnd:()=>{s.current=void 0,k?.()},onStepKeyDown:a=>{let b=v[w?"from-left":"from-right"].includes(a.key);m?.({event:a,direction:b?-1:1})}})})}),I=c.forwardRef((a,d)=>{let{min:e,max:f,inverted:g,onSlideStart:h,onSlideMove:i,onSlideEnd:j,onStepKeyDown:k,...m}=a,n=c.useRef(null),o=(0,l.useComposedRefs)(d,n),p=c.useRef(void 0),q=!g;function r(a){let b=p.current||n.current.getBoundingClientRect(),c=T([0,b.height],q?[f,e]:[e,f]);return p.current=b,c(a-b.top)}return(0,b.jsx)(F,{scope:a.__scopeSlider,startEdge:q?"bottom":"top",endEdge:q?"top":"bottom",size:"height",direction:q?1:-1,children:(0,b.jsx)(J,{"data-orientation":"vertical",...m,ref:o,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:a=>{let b=r(a.clientY);h?.(b)},onSlideMove:a=>{let b=r(a.clientY);i?.(b)},onSlideEnd:()=>{p.current=void 0,j?.()},onStepKeyDown:a=>{let b=v[q?"from-bottom":"from-top"].includes(a.key);k?.({event:a,direction:b?-1:1})}})})}),J=c.forwardRef((a,c)=>{let{__scopeSlider:d,onSlideStart:e,onSlideMove:f,onSlideEnd:g,onHomeKeyDown:h,onEndKeyDown:i,onStepKeyDown:j,...l}=a,m=D(w,d);return(0,b.jsx)(r.Primitive.span,{...l,ref:c,onKeyDown:(0,k.composeEventHandlers)(a.onKeyDown,a=>{"Home"===a.key?(h(a),a.preventDefault()):"End"===a.key?(i(a),a.preventDefault()):t.concat(u).includes(a.key)&&(j(a),a.preventDefault())}),onPointerDown:(0,k.composeEventHandlers)(a.onPointerDown,a=>{let b=a.target;b.setPointerCapture(a.pointerId),a.preventDefault(),m.thumbs.has(b)?b.focus():e(a)}),onPointerMove:(0,k.composeEventHandlers)(a.onPointerMove,a=>{a.target.hasPointerCapture(a.pointerId)&&f(a)}),onPointerUp:(0,k.composeEventHandlers)(a.onPointerUp,a=>{let b=a.target;b.hasPointerCapture(a.pointerId)&&(b.releasePointerCapture(a.pointerId),g(a))})})}),K="SliderTrack",L=c.forwardRef((a,c)=>{let{__scopeSlider:d,...e}=a,f=D(K,d);return(0,b.jsx)(r.Primitive.span,{"data-disabled":f.disabled?"":void 0,"data-orientation":f.orientation,...e,ref:c})});L.displayName=K;var M="SliderRange",N=c.forwardRef((a,d)=>{let{__scopeSlider:e,...f}=a,g=D(M,e),h=G(M,e),i=c.useRef(null),j=(0,l.useComposedRefs)(d,i),k=g.values.length,m=g.values.map(a=>S(a,g.min,g.max)),n=k>1?Math.min(...m):0,o=100-Math.max(...m);return(0,b.jsx)(r.Primitive.span,{"data-orientation":g.orientation,"data-disabled":g.disabled?"":void 0,...f,ref:j,style:{...a.style,[h.startEdge]:n+"%",[h.endEdge]:o+"%"}})});N.displayName=M;var O="SliderThumb",P=c.forwardRef((a,d)=>{let e=y(a.__scopeSlider),[f,g]=c.useState(null),h=(0,l.useComposedRefs)(d,a=>g(a)),i=c.useMemo(()=>f?e().findIndex(a=>a.ref.current===f):-1,[e,f]);return(0,b.jsx)(Q,{...a,ref:h,index:i})}),Q=c.forwardRef((a,d)=>{let{__scopeSlider:e,index:f,name:g,...h}=a,i=D(O,e),j=G(O,e),[m,n]=c.useState(null),o=(0,l.useComposedRefs)(d,a=>n(a)),p=!m||i.form||!!m.closest("form"),s=(0,q.useSize)(m),t=i.values[f],u=void 0===t?0:S(t,i.min,i.max),v=function(a,b){return b>2?`Value ${a+1} of ${b}`:2===b?["Minimum","Maximum"][a]:void 0}(f,i.values.length),w=s?.[j.size],y=w?function(a,b,c){let d=a/2,e=T([0,50],[0,d]);return(d-e(b)*c)*c}(w,u,j.direction):0;return c.useEffect(()=>{if(m)return i.thumbs.add(m),()=>{i.thumbs.delete(m)}},[m,i.thumbs]),(0,b.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[j.startEdge]:`calc(${u}% + ${y}px)`},children:[(0,b.jsx)(x.ItemSlot,{scope:a.__scopeSlider,children:(0,b.jsx)(r.Primitive.span,{role:"slider","aria-label":a["aria-label"]||v,"aria-valuemin":i.min,"aria-valuenow":t,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...h,ref:o,style:void 0===t?{display:"none"}:a.style,onFocus:(0,k.composeEventHandlers)(a.onFocus,()=>{i.valueIndexToChangeRef.current=f})})}),p&&(0,b.jsx)(R,{name:g??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:t},f)]})});P.displayName=O;var R=c.forwardRef(({__scopeSlider:a,value:d,...e},f)=>{let g=c.useRef(null),h=(0,l.useComposedRefs)(g,f),i=(0,p.usePrevious)(d);return c.useEffect(()=>{let a=g.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(i!==d&&b){let c=new Event("input",{bubbles:!0});b.call(a,d),a.dispatchEvent(c)}},[i,d]),(0,b.jsx)(r.Primitive.input,{style:{display:"none"},...e,ref:h,defaultValue:d})});function S(a,b,c){return(0,j.clamp)(100/(c-b)*(a-b),[0,100])}function T(a,b){return c=>{if(a[0]===a[1]||b[0]===b[1])return b[0];let d=(b[1]-b[0])/(a[1]-a[0]);return b[0]+d*(c-a[0])}}R.displayName="RadioBubbleInput";var U=a.i(97895);function V({className:a,defaultValue:d,value:e,min:f=0,max:g=100,...h}){let i=c.useMemo(()=>Array.isArray(e)?e:Array.isArray(d)?d:[f,g],[e,d,f,g]);return(0,b.jsxs)(E,{"data-slot":"slider",defaultValue:d,value:e,min:f,max:g,className:(0,U.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",a),...h,children:[(0,b.jsx)(L,{"data-slot":"slider-track",className:(0,U.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,b.jsx)(N,{"data-slot":"slider-range",className:(0,U.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:i.length},(a,c)=>(0,b.jsx)(P,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}var W=a.i(2150),X=a.i(96221),Y=a.i(16201),Z=a.i(92e3),$=a.i(210);let _=(0,a.i(70106).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var aa=a.i(94697),ab=a.i(23292);let ac=["The training met my expectations","I will be able to apply the knowledge learned","The training objectives for each topic were identified and followed","The content was organized and easy to follow","The trainers were knowledgeable","The quality of training was good","Class participation and interactions were encouraged","Adequate time was provided for questions and discussions"],ad=["Poor","Fair","Good","Excellent"],ae=["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"];function af(){let a=(0,d.useParams)(),j=(0,d.useRouter)(),k=a.token,[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(0),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(Array(8).fill(3)),[z,A]=(0,c.useState)(3),[B,C]=(0,c.useState)("");(0,c.useEffect)(()=>{k&&D()},[k]);let D=async()=>{try{m(!0);let a=await aa.TrainingService.verifyEvaluationToken(k);"string"==typeof a&&"Token verified successfully."===a?(o(!0),q(a)):(o(!1),ab.toast.error("Invalid evaluation token"))}catch(a){console.error("Failed to verify token:",a),o(!1),ab.toast.error("Failed to verify evaluation token. Please check the link and try again.")}finally{m(!1)}},E=()=>{r<3&&s(r+1)},F=()=>{r>0&&s(r-1)},G=async()=>{try{u(!0);let a={token:k,response:x[0],response2:x[1],response3:x[2],response4:x[3],response5:x[4],response6:x[5],response7:x[6],response8:x[7],response9:z,additionalComment:B};await aa.TrainingService.submitEvaluation(a),w(!0),ab.toast.success("Thank you! Your evaluation has been submitted successfully.")}catch(a){console.error("Failed to submit evaluation:",a),ab.toast.error("Failed to submit evaluation. Please try again.")}finally{u(!1)}};return l?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsx)(f.Card,{className:"w-full max-w-md",children:(0,b.jsxs)(f.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(X.Loader2,{className:"h-8 w-8 animate-spin mb-4"}),(0,b.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Verifying Access"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"Please wait while we verify your evaluation link..."})]})})}):n?v?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsx)(f.Card,{className:"w-full max-w-md",children:(0,b.jsxs)(f.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(Y.CheckCircle,{className:"h-12 w-12 text-green-500 mb-4"}),(0,b.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Thank You!"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Your evaluation has been submitted successfully. Your feedback helps us improve our training programs."}),(0,b.jsx)(e.Button,{onClick:()=>j.push("/"),children:"Close"})]})})}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,b.jsx)("div",{className:"max-w-2xl mx-auto px-4",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"text-center",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)(W.Progress,{value:(r+1)/4*100,className:"w-full"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Step ",r+1," of 4"]})]}),(0,b.jsx)(f.CardTitle,{className:"text-2xl",children:(()=>{switch(r){case 0:return"Training Evaluation Form";case 1:return"Understanding the Rating Scale";case 2:return"Training Assessment";case 3:return"Overall Experience";default:return"Evaluation"}})()}),p?.trainingName&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Training: ",p.trainingName]})]}),(0,b.jsxs)(f.CardContent,{className:"space-y-6",children:[0===r&&(0,b.jsxs)("div",{className:"text-center space-y-4",children:[(0,b.jsx)("p",{className:"text-lg text-muted-foreground",children:"Answer this quick survey to help us improve"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your feedback is valuable and will help us enhance future training sessions. This evaluation should take about 3-5 minutes to complete."}),(0,b.jsx)("div",{className:"pt-4",children:(0,b.jsxs)(e.Button,{onClick:E,className:"w-full sm:w-auto",children:["Get Started",(0,b.jsx)(_,{className:"ml-2 h-4 w-4"})]})})]}),1===r&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"For the following questions, you'll use a 5-point scale:"})}),(0,b.jsx)("div",{className:"bg-muted/50 p-6 rounded-lg",children:(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4 text-center",children:ae.map((a,c)=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:`w-8 h-8 rounded-full mx-auto flex items-center justify-center text-white font-bold ${0===c?"bg-red-500":1===c?"bg-orange-500":2===c?"bg-yellow-500":3===c?"bg-blue-500":"bg-green-500"}`,children:c+1}),(0,b.jsx)("p",{className:"text-xs font-medium",children:a})]},c))})}),(0,b.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,b.jsxs)(e.Button,{variant:"outline",onClick:F,children:[(0,b.jsx)($.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,b.jsxs)(e.Button,{onClick:E,children:["Continue",(0,b.jsx)(_,{className:"ml-2 h-4 w-4"})]})]})]}),2===r&&(0,b.jsxs)("div",{className:"space-y-8",children:[ac.map((a,c)=>(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(g.Label,{className:"text-base font-medium",children:[c+1,". ",a]}),(0,b.jsxs)("div",{className:"px-4",children:[(0,b.jsx)(V,{value:[x[c]],onValueChange:a=>((a,b)=>{let c=[...x];c[a]=b,y(c)})(c,a[0]),max:5,min:1,step:1,className:"w-full"}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[(0,b.jsx)("span",{children:"Strongly Disagree"}),(0,b.jsxs)("span",{className:"font-medium",children:[x[c]," - ",ae[x[c]-1]]}),(0,b.jsx)("span",{children:"Strongly Agree"})]})]})]},c)),(0,b.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,b.jsxs)(e.Button,{variant:"outline",onClick:F,children:[(0,b.jsx)($.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,b.jsxs)(e.Button,{onClick:E,children:["Continue",(0,b.jsx)(_,{className:"ml-2 h-4 w-4"})]})]})]}),3===r&&(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(g.Label,{className:"text-base font-medium",children:"1. How do you rate the training overall?"}),(0,b.jsx)(i.RadioGroup,{value:z.toString(),onValueChange:a=>A(parseInt(a)),className:"grid grid-cols-2 gap-4",children:ad.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:(c+1).toString(),id:`rating-${c}`}),(0,b.jsxs)(g.Label,{htmlFor:`rating-${c}`,className:"text-sm",children:[c+1," - ",a]})]},c))})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(g.Label,{className:"text-base font-medium",children:"2. What aspects of the training could be improved?"}),(0,b.jsx)(h.Textarea,{value:B,onChange:a=>C(a.target.value),placeholder:"Please share your suggestions for improvement...",className:"min-h-[120px]"})]}),(0,b.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,b.jsxs)(e.Button,{variant:"outline",onClick:F,children:[(0,b.jsx)($.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,b.jsx)(e.Button,{onClick:G,disabled:t,className:"min-w-[120px]",children:t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(X.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Evaluation"})]})]})]})]})})}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsx)(f.Card,{className:"w-full max-w-md",children:(0,b.jsxs)(f.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(Z.AlertCircle,{className:"h-12 w-12 text-red-500 mb-4"}),(0,b.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Invalid Link"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"This evaluation link is invalid or has expired. Please contact your training coordinator for a new link."}),(0,b.jsx)(e.Button,{onClick:()=>j.push("/"),children:"Go to Home"})]})})})}}];

//# sourceMappingURL=app_evaluation_%5Btoken%5D_page_tsx_0e48afca._.js.map