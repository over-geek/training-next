module.exports=[16201,a=>{"use strict";a.s(["CheckCircle",()=>b],16201);let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},88237,a=>{"use strict";a.s(["Table",()=>d,"TableBody",()=>f,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g]);var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...d})}function h({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function i({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}},5522,a=>{"use strict";a.s(["Input",()=>d]);var b=a.i(87924),c=a.i(97895);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}},96221,a=>{"use strict";a.s(["Loader2",()=>b],96221);let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3130,a=>{"use strict";a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f]);var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}},50104,30553,a=>{"use strict";a.s(["createContext",()=>d,"createContextScope",()=>e],50104);var b=a.i(72131),c=a.i(87924);function d(a,d){let e=b.createContext(d),f=a=>{let{children:d,...f}=a,g=b.useMemo(()=>f,Object.values(f));return(0,c.jsx)(e.Provider,{value:g,children:d})};return f.displayName=a+"Provider",[f,function(c){let f=b.useContext(e);if(f)return f;if(void 0!==d)return d;throw Error(`\`${c}\` must be used within \`${a}\``)}]}function e(a,d=[]){let f=[],g=()=>{let c=f.map(a=>b.createContext(a));return function(d){let e=d?.[a]||c;return b.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return g.scopeName=a,[function(d,e){let g=b.createContext(e),h=f.length;f=[...f,e];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=b.useMemo(()=>i,Object.values(i));return(0,c.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(c,f){let i=f?.[a]?.[h]||g,j=b.useContext(i);if(j)return j;if(void 0!==e)return e;throw Error(`\`${c}\` must be used within \`${d}\``)}]},function(...a){let c=a[0];if(1===a.length)return c;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return b.useMemo(()=>({[`__scope${c.scopeName}`]:e}),[e])}};return d.scopeName=c.scopeName,d}(g,...d)]}a.s(["Primitive",()=>j,"dispatchDiscreteCustomEvent",()=>k],30553);var f=a.i(35112),g=a.i(70121),h=Symbol("radix.slottable");function i(a){return b.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===h}var j=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,d)=>{let e=function(a){let d=function(a){let c=b.forwardRef((a,c)=>{let{children:d,...e}=a;if(b.isValidElement(d)){var f;let a,h,i=(f=d,(h=(a=Object.getOwnPropertyDescriptor(f.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.ref:(h=(a=Object.getOwnPropertyDescriptor(f,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.props.ref:f.props.ref||f.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(e,d.props);return d.type!==b.Fragment&&(j.ref=c?(0,g.composeRefs)(c,i):i),b.cloneElement(d,j)}return b.Children.count(d)>1?b.Children.only(null):null});return c.displayName=`${a}.SlotClone`,c}(a),e=b.forwardRef((a,e)=>{let{children:f,...g}=a,h=b.Children.toArray(f),j=h.find(i);if(j){let a=j.props.children,f=h.map(c=>c!==j?c:b.Children.count(a)>1?b.Children.only(null):b.isValidElement(a)?a.props.children:null);return(0,c.jsx)(d,{...g,ref:e,children:b.isValidElement(a)?b.cloneElement(a,void 0,f):null})}return(0,c.jsx)(d,{...g,ref:e,children:f})});return e.displayName=`${a}.Slot`,e}(`Primitive.${d}`),f=b.forwardRef((a,b)=>{let{asChild:f,...g}=a;return(0,c.jsx)(f?e:d,{...g,ref:b})});return f.displayName=`Primitive.${d}`,{...a,[d]:f}},{});function k(a,b){a&&f.flushSync(()=>a.dispatchEvent(b))}},41675,67937,a=>{"use strict";a.s(["Calendar",()=>b],41675),a.s(["default",()=>b],67937);let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2150,a=>{"use strict";a.s(["Progress",()=>t],2150);var b=a.i(87924),c=a.i(72131),d=a.i(50104),e=a.i(30553),f="Progress",[g,h]=(0,d.createContextScope)(f),[i,j]=g(f),k=c.forwardRef((a,c)=>{var d,f;let{__scopeProgress:g,value:h=null,max:j,getValueLabel:k=n,...l}=a;(j||0===j)&&!q(j)&&console.error((d=`${j}`,`Invalid prop \`max\` of value \`${d}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=q(j)?j:100;null===h||r(h,m)||console.error((f=`${h}`,`Invalid prop \`value\` of value \`${f}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let s=r(h,m)?h:null,t=p(s)?k(s,m):void 0;return(0,b.jsx)(i,{scope:g,value:s,max:m,children:(0,b.jsx)(e.Primitive.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":p(s)?s:void 0,"aria-valuetext":t,role:"progressbar","data-state":o(s,m),"data-value":s??void 0,"data-max":m,...l,ref:c})})});k.displayName=f;var l="ProgressIndicator",m=c.forwardRef((a,c)=>{let{__scopeProgress:d,...f}=a,g=j(l,d);return(0,b.jsx)(e.Primitive.div,{"data-state":o(g.value,g.max),"data-value":g.value??void 0,"data-max":g.max,...f,ref:c})});function n(a,b){return`${Math.round(a/b*100)}%`}function o(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function p(a){return"number"==typeof a}function q(a){return p(a)&&!isNaN(a)&&a>0}function r(a,b){return p(a)&&!isNaN(a)&&a<=b&&a>=0}m.displayName=l;var s=a.i(97895);function t({className:a,value:c,...d}){return(0,b.jsx)(k,{"data-slot":"progress",className:(0,s.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...d,children:(0,b.jsx)(m,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(c||0)}%)`}})})}},46893,a=>{"use strict";a.s(["Textarea",()=>d]);var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}},50862,a=>{"use strict";a.s(["default",()=>t],50862);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(40695),f=a.i(3130),g=a.i(46893),h=a.i(5522),i=a.i(2150),j=a.i(88237),k=a.i(96221),l=a.i(16201),m=a.i(92e3),n=a.i(41675),o=a.i(60246);let p=(0,a.i(70106).default)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var q=a.i(23292),r=a.i(43205);class s{static async getEvaluationByToken(a){try{let b=await fetch(`${r.API_BASE_URL}/public/evaluation/${a}`);if(!b.ok)throw Error(`HTTP error! status: ${b.status}`);return await b.json()}catch(a){throw console.error("Failed to fetch evaluation data:",a),a}}static async submitEvaluation(a,b){try{let a=await fetch(`${r.API_BASE_URL}/public/evaluation/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...b})});if(!a.ok){let b=await a.text();throw Error(`HTTP error! status: ${a.status}, message: ${b}`)}return await a.json()}catch(a){throw console.error("Failed to submit evaluation:",a),a}}}function t(){let a=(0,d.useParams)(),r=(0,d.useRouter)(),t=a.token,[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)({});(0,c.useEffect)(()=>{t&&G()},[t]);let G=async()=>{try{v(!0),z(null);let a=await s.getEvaluationByToken(t);x(a);let b={};a.employees.forEach(a=>{b[a.employeeId]={effectivenessRating:a.effectivenessRating||"",productivityComments:a.productivityComments||"",attitudeComments:a.attitudeComments||"",contributionComments:a.contributionComments||""}}),F(b)}catch(a){console.error("Failed to fetch evaluation data:",a),z(a instanceof Error?a.message:"An unexpected error occurred")}finally{v(!1)}},H=(a,b,c)=>{F(d=>({...d,[a]:{...d[a],[b]:c}}))},I=async()=>{try{B(!0);let a={token:t,evaluations:Object.entries(E).map(([a,b])=>({employeeId:parseInt(a),effectivenessRating:b.effectivenessRating,productivityComments:b.productivityComments,attitudeComments:b.attitudeComments,contributionComments:b.contributionComments}))},b=await s.submitEvaluation(t,a);b.signingUrl&&(window.location.href=b.signingUrl),D(!0),q.toast.success("Thank you! Your team evaluation has been submitted successfully.")}catch(a){console.error("Failed to submit evaluation:",a),q.toast.error("Failed to submit evaluation. Please try again.")}finally{B(!1)}};if(u)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsx)(f.Card,{className:"w-full max-w-md",children:(0,b.jsxs)(f.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(k.Loader2,{className:"h-8 w-8 animate-spin mb-4"}),(0,b.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Loading Evaluation"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"Please wait while we load your team evaluation..."})]})})});if(y)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsx)(f.Card,{className:"w-full max-w-md",children:(0,b.jsxs)(f.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(m.AlertCircle,{className:"h-12 w-12 text-red-500 mb-4"}),(0,b.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Evaluation Unavailable"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center mb-4",children:y}),(0,b.jsx)(e.Button,{onClick:()=>r.push("/"),children:"Go to Home"})]})})});if(C)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsx)(f.Card,{className:"w-full max-w-md",children:(0,b.jsxs)(f.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(l.CheckCircle,{className:"h-12 w-12 text-green-500 mb-4"}),(0,b.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Evaluation Submitted!"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Thank you for completing the training effectiveness evaluation. Your feedback helps us measure the impact of our training programs."}),(0,b.jsx)(e.Button,{onClick:()=>r.push("/"),children:"Close"})]})})});if(!w)return null;let J=w?Object.values(E).filter(a=>a.effectivenessRating>=1&&a.effectivenessRating<=10&&a.productivityComments.trim()&&a.attitudeComments.trim()&&a.contributionComments.trim()).length/w.employees.length*100:0;return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,b.jsx)(f.Card,{className:"mb-6",children:(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)(i.Progress,{value:J,className:"w-full"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:[Math.round(J),"% Complete"]})]}),(0,b.jsx)(f.CardTitle,{className:"text-2xl text-center",children:"Training Effectiveness Evaluation"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Calendar,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:w.evaluation.trainingSessionName}),(0,b.jsx)("p",{className:"text-muted-foreground",children:new Date(w.evaluation.trainingSessionDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:w.evaluation.managerName}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Manager"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:w.evaluation.departmentName}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:[w.evaluation.milestone.replace("_"," ")," Review"]})]})]})]})]})}),(0,b.jsx)(f.Card,{className:"overflow-hidden",children:(0,b.jsx)(f.CardContent,{className:"p-0",children:(0,b.jsxs)(j.Table,{children:[(0,b.jsx)(j.TableHeader,{children:(0,b.jsxs)(j.TableRow,{className:"bg-muted/30",children:[(0,b.jsx)(j.TableHead,{className:"w-64 font-semibold text-center",children:"Employee"}),(0,b.jsx)(j.TableHead,{className:"font-semibold text-center",children:"Productivity Impact"}),(0,b.jsx)(j.TableHead,{className:"font-semibold text-center",children:"Attitude & Engagement"}),(0,b.jsx)(j.TableHead,{className:"font-semibold text-center",children:"Team Contribution"}),(0,b.jsx)(j.TableHead,{className:"w-32 font-semibold text-center",children:"Rating (1-10)"})]})}),(0,b.jsx)(j.TableBody,{children:w.employees.map((a,c)=>{let d=E[a.employeeId]||{effectivenessRating:"",productivityComments:"",attitudeComments:"",contributionComments:""};return(0,b.jsxs)(j.TableRow,{className:"align-top",children:[(0,b.jsx)(j.TableCell,{className:"font-medium w-1/5 text-center",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.employeeName})}),(0,b.jsx)(j.TableCell,{className:"w-1/5",children:(0,b.jsx)(g.Textarea,{value:d.productivityComments,onChange:b=>H(a.employeeId,"productivityComments",b.target.value),placeholder:"Employee's productivity after training?",className:"min-h-[80px] resize-none"})}),(0,b.jsx)(j.TableCell,{className:"w-1/5",children:(0,b.jsx)(g.Textarea,{value:d.attitudeComments,onChange:b=>H(a.employeeId,"attitudeComments",b.target.value),placeholder:"Employee's attitude after training?",className:"min-h-[80px] resize-none"})}),(0,b.jsx)(j.TableCell,{className:"w-1/5",children:(0,b.jsx)(g.Textarea,{value:d.contributionComments,onChange:b=>H(a.employeeId,"contributionComments",b.target.value),placeholder:"Employee's contribution to team objectives after training?",className:"min-h-[80px] resize-none"})}),(0,b.jsx)(j.TableCell,{className:"w-1/5",children:(0,b.jsx)(h.Input,{type:"number",min:"1",max:"10",value:d.effectivenessRating||"",onChange:b=>{let c=parseInt(b.target.value);!isNaN(c)&&c>=1&&c<=10&&H(a.employeeId,"effectivenessRating",c)},placeholder:"1-10",className:"w-16 text-center"})})]},a.id)})})]})})}),(0,b.jsx)(f.Card,{className:"mt-6",children:(0,b.jsx)(f.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"text-center space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please ensure all evaluations are complete before submitting. This action cannot be undone."}),(0,b.jsx)(e.Button,{onClick:I,disabled:!Object.values(E).every(a=>a.effectivenessRating>=1&&a.effectivenessRating<=10&&a.productivityComments.trim()&&a.attitudeComments.trim()&&a.contributionComments.trim())||A,size:"lg",className:"min-w-[200px]",children:A?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting Evaluation..."]}):"Submit All Evaluations"})]})})})]})})}}];

//# sourceMappingURL=_7c26d03a._.js.map